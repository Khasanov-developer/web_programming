{"ast":null,"code":"var _jsxFileName = \"/home/kh/Desktop/Desktop/Istomin/\\u0412\\u0435\\u0431/web_programming/react-web-cart/src/components/Cart.js\";\nimport React from 'react';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.items,\n      finalcost: 0\n    };\n    this.calculatecost();\n  }\n\n  calculatecost() {\n    let final_cost = 0;\n\n    for (let i = 0; i < this.props.items.length; i++) {\n      final_cost += this.props.items[i].cost;\n    }\n\n    this.state.finalcost = final_cost;\n    this.setState(this.state);\n  }\n\n  showMessage() {\n    this.state.items.splice(0, this.state.items.length);\n    this.setState(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, alert('Покупка произведена!'), this.render());\n  }\n\n  deleteFromCart(index) {\n    this.state.items.splice(index, 1);\n    this.setState(this.state);\n    this.calculatecost();\n    return this.render();\n  }\n\n  render() {\n    if (this.state.items.length == 0) {\n      return React.createElement(\"div\", {\n        class: \"Cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430 \\u043F\\u0443\\u0441\\u0442\\u0430\"));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \" \\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" Cost\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" Delete\")), this.state.items.map((item, index) => React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" \", item.name, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" \", item.cost, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.deleteFromCart(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u044B\")))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \" \\u0418\\u0442\\u043E\\u0433\\u043E\\u0432\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430: \", this.state.finalcost, \" \"), React.createElement(\"td\", {\n        colSpan: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"/buy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.showMessage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"))))));\n    }\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/kh/Desktop/Desktop/Istomin/Веб/web_programming/react-web-cart/src/components/Cart.js"],"names":["React","Cart","Component","constructor","props","state","items","finalcost","calculatecost","final_cost","i","length","cost","setState","showMessage","splice","alert","render","deleteFromCart","index","map","item","name"],"mappings":"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","sourcesContent":["import React from 'react'\n\nclass Cart extends React.Component {\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n            items: this.props.items,\n            finalcost: 0\n        };\n\n        this.calculatecost()\n    }\n\n    calculatecost() {\n        let final_cost = 0;\n\n        for (let i = 0; i < this.props.items.length; i++) {\n            final_cost += this.props.items[i].cost\n        }\n\n        this.state.finalcost = final_cost;\n        this.setState(this.state)\n    }\n\n    showMessage() {\n        this.state.items.splice(0, this.state.items.length);\n        this.setState(this.state)\n\n        return (\n            <div>\n                {alert('Покупка произведена!')}\n                {this.render()}\n            </div>\n        );\n    }\n\n    deleteFromCart(index) {\n        this.state.items.splice(index, 1);\n        this.setState(this.state);\n        this.calculatecost();\n\n        return (\n            this.render()\n        );\n    }\n\n    render() {\n        if (this.state.items.length == 0) {\n            return (\n                <div class=\"Cart\">\n                    <p>Корзина пуста</p>\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <h1> Корзина товаров </h1>\n                    <table>\n                        <tr>\n                            <th> Name</th>\n                            <th> Cost</th>\n                            <th> Delete</th>\n                        </tr>\n                        {this.state.items.map((item, index) => (\n                            <tr>\n                                <td> {item.name} </td>\n                                <td> {item.cost} </td>\n                                <td>\n                                    <button onClick={() => {\n                                        this.deleteFromCart(index)\n                                    }}>\n                                        Убрать из корзины\n                                    </button>\n                                </td>\n                            </tr>\n                        ))}\n                        <tr>\n                            <td> Итоговая сумма: {this.state.finalcost} </td>\n                            <td colSpan=\"2\">\n                                <form action=\"/buy\">\n                                    <button onClick={() => {\n                                        this.showMessage()\n                                    }}>\n                                        Купить\n                                    </button>\n                                </form>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Cart"]},"metadata":{},"sourceType":"module"}